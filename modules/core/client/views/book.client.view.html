<section id="booking-page" class="container" ng-controller="BookController">



    <div layout="row" layout-xs="column" ng-controller="EventsCreateController as createEventCtrl">

        <div flex-sm="30" flex-gt-sm="30" class="panel panel-body panel-left title-text">

            <br><br>
            <p class="fName img-circle">
                <img class="img-circle" ng-src="modules/personals/img/buttons/{{dentist.image}}" 
                    on-error-src="modules/personals/img/buttons/default.png">

                <h3>
                    {{ dentist.fName + ' ' + dentist.lName + ', ' + dentist.qualification }}
                </h3>
            </p>
            <br>

            <p class="experience"> <strong>Experience : </strong> {{ dentist.experience }}</p>
            <p class="speciality"> <strong>Specialized : </strong> {{ dentist.speciality }}</p>
            <p class="treatment"> <strong>Treatment : </strong> {{ treatment.description }}</p>
            <p class="rating"> <strong>Rating : </strong>
                <input-stars max="5" ng-model="dentist.rating"></input-stars>
            </p>

        </div>


        <div flex-sm="70" flex-gt-sm="70" class="panel panel-body">
            <h3 class="fill-more"> Please fill more information to book an appointment </h3>

            <md-content name="patientForm" class="patientForm">

                <legend class="fill-more">Appointment Date and Time</legend>

                <md-content>
                    <md-datepicker 
                    class="select-date" 
                    name="startDate" 
                    ng-model="$parent.event.startDate" 
                    md-placeholder="Select Date" 
                    ng-change="createEventCtrl.updateTime()"
                    md-min-date="minDate" md-max-date="maxDate">
                    </md-datepicker>
                    <br>
                    <div class="patientMessage" ng-message="required">
                        <b>{{notavailable}}</b>
                    </div>
                </md-content>

                <md-input-container layout="row" class="md-icon-right md-block time">
                    <label class="startTime-label" for="startTime">Select Time</label>
                    <md-icon><i class="text-muted glyphicon glyphicon-time"></i></md-icon>

                    <div class="form-group" id="timePick">
                        <input id="timeid" 
                        name="startTime" 
                        type="text" 
                        class="form-control time start startTime" 
                        ng-model="$parent.event.startTime"
                        ng-required="true">
                        
                        <div class="patientcolor" ng-show="patientForm.$submitted || patientForm.startTime.$touched">
                            <div ng-show="patientForm.timeid.$error.required">
                                <b>Please fill the appointment Time</b>
                            </div>
                        </div>
                    </div>
                </md-input-container>

                <legend class="date-time heading">Patient Information</legend>

                <md-input-container class="pname" style="margin-left:25px;margin-top:0">
                    <label class="all-colors">Patient Name</label>
                    <md-icon><i class="text-muted glyphicon glyphicon-user"></i></md-icon>
                    <input id="patientid" required name="patientName" type="text" ng-model="$parent.event.patientName" ng-pattern="/^[a-zA-Z ]{1,25}$/"
                        ng-required="true">

                    <div class="patientcolor" ng-show="patientForm.$submitted || patientForm.patientName.$touched">
                        <div ng-show="patientForm.patientName.$error.required"><b>Please fill the patient name</b></div>
                        <div ng-show="patientForm.patientName.$error.pattern"><b>Please fill the letters only</b></div>
                    </div>
                </md-input-container>

                <md-input-container class="place" style="margin-left:25px;margin-top:0">
                    <label class="all-colors">Place</label>
                    <md-icon><i class="text-muted glyphicon glyphicon-home"></i></md-icon>
                    <input id="placeid" required name="patientPlace" type="text" ng-model="$parent.event.patientPlace" ng-pattern="/^[a-zA-Z ]{1,25}$/"
                        ng-required="true">
                    <div class="patientcolor" ng-show="patientForm.$submitted || patientForm.patientPlace.$touched">
                        <div ng-show="patientForm.patientPlace.$error.required"><b>Please fill  patient place</b></div>
                        <div ng-show="patientForm.patientPlace.$error.pattern"><b>Please fill the letters only</b></div>
                    </div>
                </md-input-container>

                <md-input-container class="phonenumber" style="margin-left:25px;margin-top:0">
                    <label class="all-colors">Contact Number</label>
                    <md-icon><i class="text-muted glyphicon glyphicon-phone"></i></md-icon>
                    <input id="phoneid" required name="patientPhoneNumber" type="number" ng-model="$parent.event.patientPhoneNumber" ng-pattern="/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/"
                        ng-required="true">
                    <div class="patientcolor" ng-show="patientForm.$submitted || patientForm.patientPhoneNumber.$touched">
                        <div ng-show="patientForm.patientPhoneNumber.$error.required"><b>Please fill phone number</b></div>
                        <div ng-show="patientForm.patientPhoneNumber.$error.pattern"><b> fill valid phone number </b></div>
                    </div>
                </md-input-container>

                <md-input-container class="email" style="margin-left:25px;margin-top:0">
                    <label class="all-colors">Email (required)</label>
                    <md-icon><i class="text-muted glyphicon glyphicon-envelope"></i></md-icon>
                    <input id="emalid" required name="patientEmail" ng-model="$parent.event.patientEmail" type="email" ng-pattern="/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i"
                        ng-required="true">
                    <div class="patientcolor" ng-show="patientForm.$submitted || patientForm.patientEmail.$touched">
                        <span ng-show="patientForm.patientEmail.$error.required"><b>Please fill the patient email id</b></span>
                        <span ng-show="patientForm.patientEmail.$error.pattern"><b>Please enter correct email address.</b></span>
                    </div>
                </md-input-container>

                <md-input-container class="age" style="margin-left:55px;margin-top:0">
                    <label style="margin-left:7px">Age</label>
                    <input id="ageid" class="ageinput" required name="patientAge" type="number" ng-model="$parent.event.patientAge" ng-pattern="/^[0-9]{1,2}$/">
                    <div class="patientcolor" ng-show="patientForm.$submitted || patientForm.patientAge.$touched">
                        <div ng-show="patientForm.patientAge.$error.required"><b>Please fill  age</b></div>
                        <div ng-show="patientForm.patientAge.$error.pattern"><b>Enter age between 1 to 2 digits only</b></div>
                    </div>
                </md-input-container>

                <md-input-container class="gender" style="margin-left:52px;margin-top:0;margin-bottom:0">
                    <md-radio-group id="genderid" name="patientGender" ng-model="$parent.event.patientGender">
                        <md-radio-group layout="row">
                            <md-radio-button name="gender" value=male class="md-primary text-muted" style="margin-bottom:35px"><b>Male </b></md-radio-button>
                            <md-radio-button name="gender" value=female class="text-muted" style="margin-bottom:35px"><b> Female </b></md-radio-button>
                        </md-radio-group>
                    </md-radio-group>
                </md-input-container>

                <md-content class="text-muted" style="font-size:13px">
                    <mde-list-item id="checkboxid" name="medicalCondition">
                        <label layout="row" style="margin-left:25px;margin-top:0">  
                        Medical Conditions : 
                    </label>
                        <div layout-xs="column" style="margin-left:30px;margin-top:20px">
                            <md-checkbox class="md-primary" ng-model="$parent.event.medicalCondition"><label> Asthma </label></md-checkbox>
                            <md-checkbox class="md-primary" ng-model="$parent.event.value2"><label> High Blood Presure </label></md-checkbox>
                            <md-checkbox class="md-primary" ng-model="$parent.event.value3"><label> Bleeding Disorder </label></md-checkbox>
                            <md-checkbox class="md-primary" ng-model="$parent.event.value4"><label> Heart Disease </label></md-checkbox>
                            <md-checkbox class="md-primary" ng-model="$parent.event.value5"><label> Allergy </label></md-checkbox>
                            <md-checkbox class="md-primary" ng-model="$parent.event.value6"><label>Diabetes</label></md-checkbox>
                            <md-checkbox class="md-primary" ng-model="$parent.event.value7"><label> Others </label></md-checkbox>
                        </div>

                    </mde-list-item>
                </md-content>


                <md-input-container class="complaint" style="margin-left:25px">
                    <label layout="row">Chief Complaint:</label>
                    <textarea id="complaintid" name="patientComplaint" class="complaint" ng-model="$parent.event.patientComplaint" md-maxlength="150"
                        rows="3" md-select-on-focus required>
                    </textarea>
                </md-input-container>

            </md-content>

            <md-button class="md-primary submit all-colors" style="background-color:#2b3d4f;  color:white;" ng-click="createEventCtrl.addEvent()"
                ng-enabled="patientForm.$invalid || patientForm.$pending"><b>Submit</b></md-button>
        </div>


    </div>

</section>